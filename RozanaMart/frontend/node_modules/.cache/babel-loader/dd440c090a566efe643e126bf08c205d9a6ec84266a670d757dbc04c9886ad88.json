{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,useParams}from'react-router-dom';import{ArrowLeft,Star}from'lucide-react';import{useCartStore}from'../store';import QuantitySelector from'../components/QuantitySelector';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetailPage=()=>{const navigate=useNavigate();const{id}=useParams();const{addToCart,items:cartItems,updateQuantity,removeFromCart}=useCartStore();const[quantity,setQuantity]=useState(1);// Mock product data\nconst product={id:parseInt(id),name:'Onion',weight:'1 kg',price:35,mrp:50,image:'https://via.placeholder.com/400?text=Onion',rating:4.5,reviews:1250,description:'Fresh, premium quality onions sourced directly from farms. Perfect for everyday cooking.',category:1};const cartItem=cartItems.find(item=>item.id===product.id);const handleAddToCart=()=>{for(let i=0;i<quantity;i++){addToCart(product);}setQuantity(1);};const handleIncreaseQuantity=()=>{updateQuantity(product.id,cartItem.quantity+1);};const handleDecreaseQuantity=()=>{if(cartItem.quantity>1){updateQuantity(product.id,cartItem.quantity-1);}else{removeFromCart(product.id);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white min-h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"p-2 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:24})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-bold\",children:product.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full aspect-square bg-gray-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500 line-through\",children:[\"\\u20B9\",product.mrp]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-bold text-red-500\",children:[Math.round((product.mrp-product.price)/product.mrp*100),\"% OFF\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:product.weight})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(Star,{size:14,className:\"fill-current\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold\",children:product.rating})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-600\",children:[product.reviews,\" reviews\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 pb-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-2\",children:\"Product Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 leading-relaxed\",children:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-3\",children:\"Similar Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[1,2].map(i=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full aspect-square bg-gray-200 rounded-lg mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-900\",children:\"Potato\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"\\u20B925\"})]},i))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sticky bottom-20 left-0 right-0 px-4 py-3 bg-white border-t border-gray-200\",children:cartItem?/*#__PURE__*/_jsx(QuantitySelector,{quantity:cartItem.quantity,onIncrease:handleIncreaseQuantity,onDecrease:handleDecreaseQuantity}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:quantity,onChange:e=>setQuantity(Math.max(1,parseInt(e.target.value)||1)),className:\"flex-1 border border-gray-300 rounded px-3 py-2 text-center\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"flex-1 btn-primary text-lg font-bold\",children:\"ADD TO CART\"})]})})})]});};export default ProductDetailPage;","map":{"version":3,"names":["React","useState","useNavigate","useParams","ArrowLeft","Star","useCartStore","QuantitySelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetailPage","navigate","id","addToCart","items","cartItems","updateQuantity","removeFromCart","quantity","setQuantity","product","parseInt","name","weight","price","mrp","image","rating","reviews","description","category","cartItem","find","item","handleAddToCart","i","handleIncreaseQuantity","handleDecreaseQuantity","className","children","onClick","size","src","alt","Math","round","map","onIncrease","onDecrease","type","min","value","onChange","e","max","target"],"sources":["C:/Users/abhay/OneDrive/Desktop/New folder/RozanaMart/frontend/src/pages/ProductDetailPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { ArrowLeft, Star } from 'lucide-react';\r\nimport { useCartStore } from '../store';\r\nimport QuantitySelector from '../components/QuantitySelector';\r\n\r\nconst ProductDetailPage = () => {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const { addToCart, items: cartItems, updateQuantity, removeFromCart } = useCartStore();\r\n  const [quantity, setQuantity] = useState(1);\r\n  \r\n  // Mock product data\r\n  const product = {\r\n    id: parseInt(id),\r\n    name: 'Onion',\r\n    weight: '1 kg',\r\n    price: 35,\r\n    mrp: 50,\r\n    image: 'https://via.placeholder.com/400?text=Onion',\r\n    rating: 4.5,\r\n    reviews: 1250,\r\n    description: 'Fresh, premium quality onions sourced directly from farms. Perfect for everyday cooking.',\r\n    category: 1\r\n  };\r\n  \r\n  const cartItem = cartItems.find(item => item.id === product.id);\r\n  \r\n  const handleAddToCart = () => {\r\n    for (let i = 0; i < quantity; i++) {\r\n      addToCart(product);\r\n    }\r\n    setQuantity(1);\r\n  };\r\n  \r\n  const handleIncreaseQuantity = () => {\r\n    updateQuantity(product.id, cartItem.quantity + 1);\r\n  };\r\n  \r\n  const handleDecreaseQuantity = () => {\r\n    if (cartItem.quantity > 1) {\r\n      updateQuantity(product.id, cartItem.quantity - 1);\r\n    } else {\r\n      removeFromCart(product.id);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"bg-white min-h-screen\">\r\n      {/* Header */}\r\n      <div className=\"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3\">\r\n        <button\r\n          onClick={() => navigate(-1)}\r\n          className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n        >\r\n          <ArrowLeft size={24} />\r\n        </button>\r\n        <h1 className=\"text-lg font-bold\">{product.name}</h1>\r\n      </div>\r\n      \r\n      {/* Product Image */}\r\n      <div className=\"w-full aspect-square bg-gray-100 flex items-center justify-center\">\r\n        <img\r\n          src={product.image}\r\n          alt={product.name}\r\n          className=\"w-full h-full object-cover\"\r\n        />\r\n      </div>\r\n      \r\n      {/* Product Info */}\r\n      <div className=\"px-4 py-4\">\r\n        {/* Price Section */}\r\n        <div className=\"mb-4\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <span className=\"text-2xl font-bold text-gray-900\">₹{product.price}</span>\r\n            <span className=\"text-lg text-gray-500 line-through\">₹{product.mrp}</span>\r\n            <span className=\"text-sm font-bold text-red-500\">{Math.round(((product.mrp - product.price) / product.mrp) * 100)}% OFF</span>\r\n          </div>\r\n          <p className=\"text-sm text-gray-600\">{product.weight}</p>\r\n        </div>\r\n        \r\n        {/* Rating */}\r\n        <div className=\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\">\r\n          <div className=\"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded\">\r\n            <Star size={14} className=\"fill-current\" />\r\n            <span className=\"text-sm font-bold\">{product.rating}</span>\r\n          </div>\r\n          <span className=\"text-xs text-gray-600\">{product.reviews} reviews</span>\r\n        </div>\r\n        \r\n        {/* Description */}\r\n        <div className=\"mb-4 pb-4 border-b border-gray-200\">\r\n          <h3 className=\"font-semibold text-gray-900 mb-2\">Product Details</h3>\r\n          <p className=\"text-sm text-gray-600 leading-relaxed\">{product.description}</p>\r\n        </div>\r\n        \r\n        {/* Similar Products */}\r\n        <div className=\"mb-4\">\r\n          <h3 className=\"font-semibold text-gray-900 mb-3\">Similar Products</h3>\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            {[1, 2].map((i) => (\r\n              <div key={i} className=\"bg-gray-50 rounded-lg p-2\">\r\n                <div className=\"w-full aspect-square bg-gray-200 rounded-lg mb-2\"></div>\r\n                <p className=\"text-xs font-semibold text-gray-900\">Potato</p>\r\n                <p className=\"text-xs text-gray-600\">₹25</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Add to Cart Button */}\r\n      <div className=\"sticky bottom-20 left-0 right-0 px-4 py-3 bg-white border-t border-gray-200\">\r\n        {cartItem ? (\r\n          <QuantitySelector\r\n            quantity={cartItem.quantity}\r\n            onIncrease={handleIncreaseQuantity}\r\n            onDecrease={handleDecreaseQuantity}\r\n          />\r\n        ) : (\r\n          <>\r\n            <div className=\"flex items-center gap-2 mb-3\">\r\n              <input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                value={quantity}\r\n                onChange={(e) => setQuantity(Math.max(1, parseInt(e.target.value) || 1))}\r\n                className=\"flex-1 border border-gray-300 rounded px-3 py-2 text-center\"\r\n              />\r\n              <button\r\n                onClick={handleAddToCart}\r\n                className=\"flex-1 btn-primary text-lg font-bold\"\r\n              >\r\n                ADD TO CART\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}