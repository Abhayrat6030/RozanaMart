{"ast":null,"code":"import { create } from 'zustand';\nexport const useAuthStore = create(set => ({\n  user: null,\n  token: localStorage.getItem('token') || null,\n  isLoggedIn: !!localStorage.getItem('token'),\n  login: (user, token) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(user));\n    set({\n      user,\n      token,\n      isLoggedIn: true\n    });\n  },\n  signup: (user, token) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(user));\n    set({\n      user,\n      token,\n      isLoggedIn: true\n    });\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    set({\n      user: null,\n      token: null,\n      isLoggedIn: false\n    });\n  },\n  setUser: user => set({\n    user\n  })\n}));\nexport const useCartStore = create((set, get) => ({\n  items: JSON.parse(localStorage.getItem('cart')) || [],\n  addToCart: product => {\n    const items = get().items;\n    const existingItem = items.find(item => item.id === product.id);\n    let newItems;\n    if (existingItem) {\n      newItems = items.map(item => item.id === product.id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item);\n    } else {\n      newItems = [...items, {\n        ...product,\n        quantity: 1\n      }];\n    }\n    localStorage.setItem('cart', JSON.stringify(newItems));\n    set({\n      items: newItems\n    });\n  },\n  removeFromCart: productId => {\n    const newItems = get().items.filter(item => item.id !== productId);\n    localStorage.setItem('cart', JSON.stringify(newItems));\n    set({\n      items: newItems\n    });\n  },\n  updateQuantity: (productId, quantity) => {\n    const newItems = get().items.map(item => item.id === productId ? {\n      ...item,\n      quantity: Math.max(0, quantity)\n    } : item).filter(item => item.quantity > 0);\n    localStorage.setItem('cart', JSON.stringify(newItems));\n    set({\n      items: newItems\n    });\n  },\n  clearCart: () => {\n    localStorage.removeItem('cart');\n    set({\n      items: []\n    });\n  },\n  getTotal: () => {\n    return get().items.reduce((total, item) => total + item.price * item.quantity, 0);\n  },\n  getItemCount: () => {\n    return get().items.reduce((count, item) => count + item.quantity, 0);\n  }\n}));\nexport const useLocationStore = create(set => ({\n  location: JSON.parse(localStorage.getItem('location')) || {\n    address: '123 Main Street, City',\n    lat: 28.6139,\n    lng: 77.2090\n  },\n  setLocation: location => {\n    localStorage.setItem('location', JSON.stringify(location));\n    set({\n      location\n    });\n  }\n}));","map":{"version":3,"names":["create","useAuthStore","set","user","token","localStorage","getItem","isLoggedIn","login","setItem","JSON","stringify","signup","logout","removeItem","setUser","useCartStore","get","items","parse","addToCart","product","existingItem","find","item","id","newItems","map","quantity","removeFromCart","productId","filter","updateQuantity","Math","max","clearCart","getTotal","reduce","total","price","getItemCount","count","useLocationStore","location","address","lat","lng","setLocation"],"sources":["C:/Users/abhay/OneDrive/Desktop/New folder/RozanaMart/frontend/src/store.js"],"sourcesContent":["import { create } from 'zustand';\r\n\r\nexport const useAuthStore = create((set) => ({\r\n  user: null,\r\n  token: localStorage.getItem('token') || null,\r\n  isLoggedIn: !!localStorage.getItem('token'),\r\n  \r\n  login: (user, token) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    set({ user, token, isLoggedIn: true });\r\n  },\r\n  \r\n  signup: (user, token) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    set({ user, token, isLoggedIn: true });\r\n  },\r\n  \r\n  logout: () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    set({ user: null, token: null, isLoggedIn: false });\r\n  },\r\n  \r\n  setUser: (user) => set({ user }),\r\n}));\r\n\r\nexport const useCartStore = create((set, get) => ({\r\n  items: JSON.parse(localStorage.getItem('cart')) || [],\r\n  \r\n  addToCart: (product) => {\r\n    const items = get().items;\r\n    const existingItem = items.find(item => item.id === product.id);\r\n    \r\n    let newItems;\r\n    if (existingItem) {\r\n      newItems = items.map(item =>\r\n        item.id === product.id\r\n          ? { ...item, quantity: item.quantity + 1 }\r\n          : item\r\n      );\r\n    } else {\r\n      newItems = [...items, { ...product, quantity: 1 }];\r\n    }\r\n    \r\n    localStorage.setItem('cart', JSON.stringify(newItems));\r\n    set({ items: newItems });\r\n  },\r\n  \r\n  removeFromCart: (productId) => {\r\n    const newItems = get().items.filter(item => item.id !== productId);\r\n    localStorage.setItem('cart', JSON.stringify(newItems));\r\n    set({ items: newItems });\r\n  },\r\n  \r\n  updateQuantity: (productId, quantity) => {\r\n    const newItems = get().items.map(item =>\r\n      item.id === productId\r\n        ? { ...item, quantity: Math.max(0, quantity) }\r\n        : item\r\n    ).filter(item => item.quantity > 0);\r\n    \r\n    localStorage.setItem('cart', JSON.stringify(newItems));\r\n    set({ items: newItems });\r\n  },\r\n  \r\n  clearCart: () => {\r\n    localStorage.removeItem('cart');\r\n    set({ items: [] });\r\n  },\r\n  \r\n  getTotal: () => {\r\n    return get().items.reduce((total, item) => total + (item.price * item.quantity), 0);\r\n  },\r\n  \r\n  getItemCount: () => {\r\n    return get().items.reduce((count, item) => count + item.quantity, 0);\r\n  },\r\n}));\r\n\r\nexport const useLocationStore = create((set) => ({\r\n  location: JSON.parse(localStorage.getItem('location')) || {\r\n    address: '123 Main Street, City',\r\n    lat: 28.6139,\r\n    lng: 77.2090,\r\n  },\r\n  \r\n  setLocation: (location) => {\r\n    localStorage.setItem('location', JSON.stringify(location));\r\n    set({ location });\r\n  },\r\n}));\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}