{"ast":null,"code":"import _objectSpread from\"C:/Users/abhay/OneDrive/Desktop/New folder/RozanaMart/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{create}from'zustand';export const useAuthStore=create(set=>({user:null,token:localStorage.getItem('token')||null,isLoggedIn:!!localStorage.getItem('token'),login:(user,token)=>{localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(user));set({user,token,isLoggedIn:true});},signup:(user,token)=>{localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(user));set({user,token,isLoggedIn:true});},logout:()=>{localStorage.removeItem('token');localStorage.removeItem('user');set({user:null,token:null,isLoggedIn:false});},setUser:user=>set({user})}));export const useCartStore=create((set,get)=>({items:JSON.parse(localStorage.getItem('cart'))||[],addToCart:product=>{const items=get().items;const existingItem=items.find(item=>item.id===product.id);let newItems;if(existingItem){newItems=items.map(item=>item.id===product.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);}else{newItems=[...items,_objectSpread(_objectSpread({},product),{},{quantity:1})];}localStorage.setItem('cart',JSON.stringify(newItems));set({items:newItems});},removeFromCart:productId=>{const newItems=get().items.filter(item=>item.id!==productId);localStorage.setItem('cart',JSON.stringify(newItems));set({items:newItems});},updateQuantity:(productId,quantity)=>{const newItems=get().items.map(item=>item.id===productId?_objectSpread(_objectSpread({},item),{},{quantity:Math.max(0,quantity)}):item).filter(item=>item.quantity>0);localStorage.setItem('cart',JSON.stringify(newItems));set({items:newItems});},clearCart:()=>{localStorage.removeItem('cart');set({items:[]});},getTotal:()=>{return get().items.reduce((total,item)=>total+item.price*item.quantity,0);},getItemCount:()=>{return get().items.reduce((count,item)=>count+item.quantity,0);}}));export const useLocationStore=create(set=>({location:JSON.parse(localStorage.getItem('location'))||{address:'123 Main Street, City',lat:28.6139,lng:77.2090},setLocation:location=>{localStorage.setItem('location',JSON.stringify(location));set({location});}}));","map":{"version":3,"names":["create","useAuthStore","set","user","token","localStorage","getItem","isLoggedIn","login","setItem","JSON","stringify","signup","logout","removeItem","setUser","useCartStore","get","items","parse","addToCart","product","existingItem","find","item","id","newItems","map","_objectSpread","quantity","removeFromCart","productId","filter","updateQuantity","Math","max","clearCart","getTotal","reduce","total","price","getItemCount","count","useLocationStore","location","address","lat","lng","setLocation"],"sources":["C:/Users/abhay/OneDrive/Desktop/New folder/RozanaMart/frontend/src/store.js"],"sourcesContent":["import { create } from 'zustand';\r\n\r\nexport const useAuthStore = create((set) => ({\r\n  user: null,\r\n  token: localStorage.getItem('token') || null,\r\n  isLoggedIn: !!localStorage.getItem('token'),\r\n  \r\n  login: (user, token) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    set({ user, token, isLoggedIn: true });\r\n  },\r\n  \r\n  signup: (user, token) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    set({ user, token, isLoggedIn: true });\r\n  },\r\n  \r\n  logout: () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    set({ user: null, token: null, isLoggedIn: false });\r\n  },\r\n  \r\n  setUser: (user) => set({ user }),\r\n}));\r\n\r\nexport const useCartStore = create((set, get) => ({\r\n  items: JSON.parse(localStorage.getItem('cart')) || [],\r\n  \r\n  addToCart: (product) => {\r\n    const items = get().items;\r\n    const existingItem = items.find(item => item.id === product.id);\r\n    \r\n    let newItems;\r\n    if (existingItem) {\r\n      newItems = items.map(item =>\r\n        item.id === product.id\r\n          ? { ...item, quantity: item.quantity + 1 }\r\n          : item\r\n      );\r\n    } else {\r\n      newItems = [...items, { ...product, quantity: 1 }];\r\n    }\r\n    \r\n    localStorage.setItem('cart', JSON.stringify(newItems));\r\n    set({ items: newItems });\r\n  },\r\n  \r\n  removeFromCart: (productId) => {\r\n    const newItems = get().items.filter(item => item.id !== productId);\r\n    localStorage.setItem('cart', JSON.stringify(newItems));\r\n    set({ items: newItems });\r\n  },\r\n  \r\n  updateQuantity: (productId, quantity) => {\r\n    const newItems = get().items.map(item =>\r\n      item.id === productId\r\n        ? { ...item, quantity: Math.max(0, quantity) }\r\n        : item\r\n    ).filter(item => item.quantity > 0);\r\n    \r\n    localStorage.setItem('cart', JSON.stringify(newItems));\r\n    set({ items: newItems });\r\n  },\r\n  \r\n  clearCart: () => {\r\n    localStorage.removeItem('cart');\r\n    set({ items: [] });\r\n  },\r\n  \r\n  getTotal: () => {\r\n    return get().items.reduce((total, item) => total + (item.price * item.quantity), 0);\r\n  },\r\n  \r\n  getItemCount: () => {\r\n    return get().items.reduce((count, item) => count + item.quantity, 0);\r\n  },\r\n}));\r\n\r\nexport const useLocationStore = create((set) => ({\r\n  location: JSON.parse(localStorage.getItem('location')) || {\r\n    address: '123 Main Street, City',\r\n    lat: 28.6139,\r\n    lng: 77.2090,\r\n  },\r\n  \r\n  setLocation: (location) => {\r\n    localStorage.setItem('location', JSON.stringify(location));\r\n    set({ location });\r\n  },\r\n}));\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}